(this.webpackJsonpreactlogin=this.webpackJsonpreactlogin||[]).push([[0],{16:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(10),c=r.n(s),o=(r(16),r(2)),i=r.n(o),l=r(5),u=r(3),d=r(11),f="https://posts-pw2021.herokuapp.com/api/v1",b={};b.createPost=function(){var e=Object(l.a)(i.a.mark((function e(t,r,n,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/post/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"},body:JSON.stringify({title:r,description:n,image:a})});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),b.Ownedpost=function(){var e=Object(l.a)(i.a.mark((function e(t,r){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/post/owned?limit=15&page=").concat(r),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),b.updatePost=function(){var e=Object(l.a)(i.a.mark((function e(t,r,n,a,s){var c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/post/update/").concat(r),{method:"PUT",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({title:n,description:a,image:s})});case 2:if(!(c=e.sent).ok){e.next=8;break}return e.next=6,c.json();case 6:return o=e.sent,e.abrupt("return",o);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t,r,n,a,s){return e.apply(this,arguments)}}(),b.togglePost=function(){var e=Object(l.a)(i.a.mark((function e(t,r){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/post/toggle/").concat(r),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),b.getPosts=function(){var e=Object(l.a)(i.a.mark((function e(t,r){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/post/all?limit=10&page=").concat(r),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),b.getFavorites=function(){var e=Object(l.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/fav",{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:if(!(r=e.sent).ok){e.next=8;break}return e.next=6,r.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b.getOnePost=function(){var e=Object(l.a)(i.a.mark((function e(t,r){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/post/one/").concat(r),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),b.likePost=function(){var e=Object(l.a)(i.a.mark((function e(t,r){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/like/".concat(r),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),b.favoritePost=function(){var e=Object(l.a)(i.a.mark((function e(t,r){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/fav/".concat(r),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}});case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:return a=e.sent,console.log("funcionaFav"),e.abrupt("return",a);case 9:return console.log("noFav"),e.abrupt("return",{});case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),b.addComment=function(){var e=Object(l.a)(i.a.mark((function e(t,r,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/post/comment/").concat(r),{method:"PATCH",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({description:n})});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),b.login=function(){var e=Object(l.a)(i.a.mark((function e(t,r){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/auth/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:r})});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),b.verifyToken=function(){var e=Object(l.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/auth/whoami"),{headers:{Authorization:"Bearer ".concat(t)}});case 2:if(!(r=e.sent).ok){e.next=8;break}return e.next=6,r.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var x=b,m=r(0),j=a.a.createContext(),h="token",p=function(e){var t=Object(n.useState)(void 0),r=Object(u.a)(t,2),a=r[0],s=r[1],c=Object(n.useState)(void 0),o=Object(u.a)(c,2),f=o[0],b=o[1],p=function(e){localStorage.setItem(h,e),s(e)};Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t,r,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem(h))){e.next=8;break}return e.next=4,x.verifyToken(t);case 4:r=e.sent,n=r.username,a=r.role,n&&a&&(b({username:n,role:a}),p(t));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var g=Object(n.useCallback)((function(e,t){var r=function(){var r=Object(l.a)(i.a.mark((function r(){var n,a,s;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=!1,r.prev=1,r.next=4,x.login(e,t);case 4:a=r.sent,(s=a.token)&&(p(s),n=!0),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),console.log(r.t0),console.log("No se pudo iniciar sesi\xf3n");case 13:return r.prev=13,r.abrupt("return",n);case 16:case"end":return r.stop()}}),r,null,[[1,9,13,16]])})));return function(){return r.apply(this,arguments)}}();return r()}),[]),v=Object(n.useCallback)((function(){b(void 0),p(void 0)}),[]),O=Object(n.useMemo)((function(){return{token:a,user:f,login:g,logout:v}}),[a,f,g,v]);return Object(m.jsx)(j.Provider,Object(d.a)({value:O},e))},g=function(){var e=a.a.useContext(j);if(!e)throw new Error("Ha ocurrido un error");return e},v=r(4),O=function(e){var t=e.type,r=void 0===t?"text":t,n=e.placeholder,a=e.value,s=e.onChange,c=e.name;return Object(m.jsx)("div",{children:Object(m.jsx)("input",{type:r,placeholder:n,value:a,onChange:s,name:c,className:"mt-1 block w-full border-none bg-gray-100 h-11 rounded-xl shadow-md hover:bg-blue-100 focus:bg-blue-100 focus:ring-0"})})},w=r.p+"static/media/user2.35779ab2.jpg",y=function(e){return Object(m.jsx)("button",{type:e.type,class:"bg-gray-900 w-full py-3 rounded-xl text-white font-bold shadow-xl hover:shadow-inner focus:outline-none transition duration-500 ease-in-out  transform hover:-translate-x hover:scale-105",children:e.text})},k=r.p+"static/media/TilinIco.8e71ce37.png",N=function(){var e=Object(v.g)(),t=g(),r=t.login,a=t.token,s=Object(n.useState)(""),c=Object(u.a)(s,2),o=c[0],d=c[1],f=Object(n.useState)(""),b=Object(u.a)(f,2),x=b[0],j=b[1],h=Object(n.useState)(!1),p=Object(u.a)(h,2),w=p[0],N=p[1],C=function(e,t){console.log(e.target.value),t(e.target.value)},S=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,r(o,x);case 3:n=e.sent,N(!n),d(""),j("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){console.log(a),a&&e("/redirect")}),[a,e]),Object(m.jsx)("div",{className:" relative font-sans",children:Object(m.jsx)("div",{className:"fixed content-center md:relative min-h-screen flex flex-col md:justify-center items-center bg-cover bg-gray-700",children:Object(m.jsxs)("div",{className:"relative md:max-w-md w-full m-28",children:[Object(m.jsx)("div",{className:"card bg-gray-900 shadow-2xl  w-full h-full rounded-3xl absolute  transform -rotate-6 "}),Object(m.jsx)("div",{className:"card bg-purple-500 shadow-2xl  w-full h-full rounded-3xl absolute  transform rotate-6 "}),Object(m.jsxs)("div",{className:"relative w-full rounded-3xl  px-10 py-4 bg-gray-100 shadow-md ",children:[Object(m.jsx)("img",{src:k,className:"w-3/5 mx-auto"}),Object(m.jsxs)("form",{onSubmit:S,className:"mt-10",children:[Object(m.jsx)("div",{children:Object(m.jsx)(O,{type:"text",placeholder:"Username",name:"email or user",onChange:function(e){return C(e,d)},required:!0})}),Object(m.jsx)("div",{className:"mt-7",children:Object(m.jsx)(O,{type:"Password",placeholder:"Password",name:"password",onChange:function(e){return C(e,j)},required:!0})}),w&&Object(m.jsx)("p",{className:"text-red-500 text-xs italic",children:"Usuario o contrase\xf1a incorrectos"}),Object(m.jsx)("div",{className:"mt-7",children:Object(m.jsx)(y,{text:"Login",type:"submit"})}),Object(m.jsxs)("div",{className:"flex mt-7 items-center text-center",children:[Object(m.jsx)("hr",{className:"border-gray-300 border-1 w-full rounded-md"}),Object(m.jsx)("label",{className:"block font-medium text-sm text-gray-600 w-full",children:"Tilin's Dev"}),Object(m.jsx)("hr",{className:"border-gray-300 border-1 w-full rounded-md"})]})]})]})]})})})},C=r(7),S=function(e){var t=e.role,r=e.children,n=g(),a=n.token,s=n.user;return a?s&&s.role===t?r:Object(m.jsx)(v.a,{replace:!0,to:"/404"}):Object(m.jsx)(v.a,{replace:!0,to:"/login"})},P={admin:"/admin",user:"/user"},D=function(){var e,t=g().user;return t?Object(m.jsx)(v.a,{replace:!0,to:null!==(e=P[t.role])&&void 0!==e?e:"/"}):Object(m.jsx)("div",{class:"h-screen w-screen  bg-gray-700 flex items-center",children:Object(m.jsxs)("div",{class:"container flex flex-col md:flex-row items-center justify-center px-5 text-gray-100",children:[Object(m.jsxs)("div",{class:"max-w-md",children:[Object(m.jsx)("div",{class:"text-5xl font-dark font-bold",children:"Redireccionando..."}),Object(m.jsx)("p",{class:"text-2xl md:text-3xl font-light leading-normal",children:"Guauf Guauf."}),Object(m.jsx)("p",{class:"mb-8"})]}),Object(m.jsx)("div",{class:"max-w-lg",children:Object(m.jsx)("img",{src:k,class:"w-full h-auto"})})]})})},T=function(e){var t=e.comment,r=t.description,n=t.user.username;return Object(m.jsxs)("div",{className:"pl-4 bg-gray-800 rounded-lg p-2  flex flex-col justify-center items-start shadow-lg mb-4",children:[Object(m.jsxs)("div",{className:"flex flex-row justify-center mr-2",children:[Object(m.jsx)("img",{className:"rounded-full h-6 w-6 mr-2    ",src:w,alt:"user"}),Object(m.jsx)("h3",{className:"text-gray-100 font-semibold text-left md:text-left ",children:n})]}),Object(m.jsx)("p",{className:"text-gray-100 text-center md:text-left ",children:r})]})},E=function(e){var t=g(),r=t.token,a=t.user,s="fas fa-heart hover:text-red-600",c=e.favorite?"fas fa-star hover:text-yellow-500":"fas fa-star text-gray-400 hover:text-yellow-500",o=Object(n.useState)(s),i=Object(u.a)(o,2),l=i[0],d=i[1],f=Object(n.useState)(!1),b=Object(u.a)(f,2),j=b[0],h=b[1],p=Object(n.useState)(c),v=Object(u.a)(p,2),O=v[0],y=v[1],k=Object(n.useState)(!1),N=Object(u.a)(k,2),C=N[0],S=N[1],P=Object(n.useState)(0),D=Object(u.a)(P,2),E=D[0],F=D[1];Object(n.useEffect)((function(){e.like.map((function(e){e.username===a.username&&(d("fas fa-heart text-red-600"),h(!0))}))}),[]);Object(n.useEffect)((function(){x.getFavorites(r).then((function(t){t.favorites.includes(e.id)&&(y("fas fa-star text-yellow-500"),S(!0))}))}),[]);var z=Object(n.useState)(""),B=Object(u.a)(z,2),A=B[0],_=B[1];return Object(m.jsx)("div",{className:"flex justify-between m-8",children:Object(m.jsxs)("div",{className:" h-4/5 w-full md:w-3/4 lg:w-4/5 flex flex-col mx-auto bg-gray-800 rounded-lg shadow-2xl",children:[Object(m.jsx)("img",{className:"object-fill max-h-96 max-w-7xl min-w-full rounded-lg rounded-b-none ",src:e.image,alt:"thumbnail",loading:"lazy"}),Object(m.jsx)("div",{className:"flex justify-between -mt-4 px-4",children:Object(m.jsx)("span",{className:"inline-block ring-4 bg-red-500 ring-gray-800 rounded-full text-sm font-medium tracking-wide text-gray-100 px-3 pt-0.5",children:"Tilinstagram"})}),Object(m.jsx)("div",{className:"pt-2",children:Object(m.jsx)("textarea",{className:"text-xl font-medium pl-4 resize-none h-6 w-11/12 overflow-hidden leading-6 tracking-wide text-gray-100 bg-gray-800",disabled:"true",children:e.title})}),Object(m.jsx)("div",{className:"px-5 space-y-2",children:Object(m.jsx)("textarea",{className:"w-11/12 leading-5 resize-none h-5 overflow-y-auto text-gray-100 font-normal tracking-wide bg-gray-800",disabled:"true",children:e.description})}),Object(m.jsx)("div",{className:"flex flex-row items-end h-full w-full pb-4 mt-4",children:Object(m.jsxs)("div",{className:"w-7/12 flex border-t border-gray-700 w-full py-4",children:[Object(m.jsxs)("div",{className:"pl-2.5 flex items-center space-x-3 border-r border-gray-700 w-full",children:[Object(m.jsx)("img",{class:"object-cover w-8 h-8 border-2 border-white rounded-full",src:w,alt:"profile users",loading:"lazy"}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)("p",{className:"text-sm font-semibold tracking-wide text-gray-200",children:e.user})})]}),Object(m.jsx)("div",{className:"flex items-center flex-shrink-0 px-2",children:Object(m.jsx)("div",{className:"flex items-center space-x-1 text-gray-400",children:Object(m.jsx)("button",{onClick:function(t){t.preventDefault(),C?(x.favoritePost(r,e.id),y(c=" fas fa-star  text-gray-400 hover:text-yellow-500"),S(!1)):(x.favoritePost(r,e.id),y(c="fas fa-star text-yellow-500"),S(!0))},className:"ch-5 w-5",children:Object(m.jsx)("i",{class:O})})})}),Object(m.jsx)("div",{className:"flex items-center flex-shrink-0 px-2 text-gray-400",children:Object(m.jsxs)("div",{className:"flex items-center space-x-1",children:[Object(m.jsx)("button",{onClick:function(t){t.preventDefault(),j?(x.likePost(r,e.id).then((function(t){e.likes(t.data.post)})).catch((function(e){console.log(e)})),d(s=" fas fa-heart  text-gray-400 hover:text-red-600"),F(E-1),h(!1)):(x.likePost(r,e.id).then((function(t){e.likes(t.data.post)})).catch((function(e){console.log(e)})),console.log("con hover"),d(s="fas fa-heart text-red-600"),F(E+1),h(!0))},className:"group ch-5 w-5",children:Object(m.jsx)("i",{className:l})}),Object(m.jsx)("p",{className:"font-medium",children:e.likes+E})]})}),Object(m.jsx)("div",{className:"flex items-center flex-shrink-0 px-2",children:Object(m.jsxs)("div",{className:"flex items-center space-x-1 text-gray-400",children:[Object(m.jsx)("button",{className:"ch-5 w-5",children:Object(m.jsx)("i",{className:"fas fa-comment hover:text-blue-300 "})}),Object(m.jsx)("p",{className:"font-medium",children:e.commentsCont})]})})]})}),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{class:"rounded-b-lg",children:[Object(m.jsxs)("div",{className:"flex flex-row pb-4",action:"/","accept-charset":"UTF-8",method:"post",children:[Object(m.jsx)("input",{type:"hidden"}),Object(m.jsx)("textarea",{onChange:function(e){e.preventDefault(),_(e.target.value),console.log(A)},value:A,className:"pl-4  w-11/12 shadow-inner bg-gray-100 align-middle border-0 rounded text-lg focus:shadow-outline mx-3 my-1",placeholder:"Write a comment.",cols:"2",rows:"1",id:"comment_content",spellcheck:"false"}),Object(m.jsx)("button",{onClick:function(t){t.preventDefault(),x.addComment(r,e.id,A),_("")},className:"font-bold content-center py-1 pr-4 w-auto hover:text-blue-500 text-white shadow-md rounded-full ",children:Object(m.jsx)("i",{class:"fas fa-paper-plane"})})]}),Object(m.jsx)("form",{className:"h-auto max-h-24 overflow-y-auto",children:e.comments.map((function(e){return Object(m.jsx)(T,{comment:e})}))})]})})]})})},F=r.p+"static/media/user.40273514.png",z=function(e){var t=g(),r=t.token,a=t.user,s=g(),c=Object(v.g)(),o=Object(n.useState)([]),d=Object(u.a)(o,2),f=d[0],b=d[1],j=Object(n.useState)(0),h=Object(u.a)(j,2),p=h[0],O=h[1];console.log(a);Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,0,e.next=4,x.getPosts(r,0);case 4:t=e.sent,b(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var w=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(p+1),e.next=4,x.getPosts(r,p);case 4:t=e.sent,b(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(p>=0)){e.next=7;break}return O(p-1),e.next=5,x.getPosts(r,p);case 5:t=e.sent,b(t.data);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),N=Object(n.useState)([]),C=Object(u.a)(N,2),S=C[0],P=C[1];return Object(n.useEffect)((function(){x.getFavorites(r).then((function(e){P(e.favorites)})).catch((function(e){console.log(e)}))}),[]),Object(m.jsxs)("div",{className:"w-auto bg-indigo-100 h-screen flex flex-row flex-wrap justify-center ",children:[Object(m.jsxs)("div",{className:"w-full md:w-1/4 lg:w-1/5 h-20 md:h-screen overflow-y-hidden bg-indigo-900 shadow-lg",children:[Object(m.jsxs)("div",{className:"invisible md:visible p-0 md:p-5 bg-indigo-900 sticky top-0",children:[Object(m.jsx)("img",{className:"w-0 h-0 md:h-full md:w-full  border-none md:border  rounded-full border-indigo-900 shadow-lg round",src:F,alt:"user profile"}),Object(m.jsx)("div",{className:"pt-0 md:pt-2 border-t-none md:border-t mt-0 md:mt-5 text-center text-xs md:text-xl md:text-gray-100 font-bold",children:a.username})]}),Object(m.jsxs)("div",{className:"w-full h-4/5 antialiased flex flex-row md:flex-col hover:cursor-pointer ",children:[Object(m.jsxs)("button",{onClick:function(e){e.preventDefault(),c("/favorites")},className:"hover:bg-yellow-500 hover:text-gray-100 bg-indigo-900 border-gray-100 border-t-2 p-3 w-full text-lg md:text-xl text-left text-gray-300 font-semibold",children:[Object(m.jsx)("i",{className:"fa fa-star text-gray-100 text-2xl pr-1 pt-1 float-right"}),"Favorites"]}),Object(m.jsxs)("button",{onClick:function(e){e.preventDefault(),s.logout(),c("/login")},className:"hover:bg-red-500 hover:text-gray-100 bg-indigo-900 border-gray-100 border-t-2 border-b-none md:border-b-2 p-3 w-full  text-lg md:text-xl text-left text-gray-300 font-semibold",children:[Object(m.jsx)("i",{className:"fa fa-arrow-left text-gray-100 text-2xl pr-1 pt-1 float-right"}),"Log out"]}),Object(m.jsx)("img",{src:k,className:"invisible md:visible pt-2 w-0 md:w-3/5 mx-auto"})]})]}),Object(m.jsxs)("div",{className:"w-full md:w-3/4 lg:w-4/5 p-5 md:px-12 lg:24 h-full overflow-x-scroll antialiased",children:[f.map((function(e){return Object(m.jsx)(E,{id:e._id,title:e.title,image:e.image,user:e.user.username,description:e.description,likes:e.likes.length,like:e.likes,commentsCont:e.comments.length,favorite:S.includes(e._id),active:e.active,comments:e.comments,likeOn:"true"})})),Object(m.jsxs)("div",{className:"flex justify-center items-center w-full space-x-3",children:[Object(m.jsx)("button",{onClick:y,className:"w-2/5 sm:w-auto px-9 py-4 mt-8 text-base font-semibold focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-gray-900 focus:outline-none transition-colors duration-200 rounded-xl block  border-b border-indigo-300 bg-indigo-200 hover:bg-indigo-300 text-indigo-900",children:"Back"}),Object(m.jsx)("button",{onClick:w,className:"w-2/5 sm:w-auto px-9 py-4 mt-8 text-base font-semibold focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-gray-900 focus:outline-none transition-colors duration-200 rounded-xl block  border-b border-indigo-300 bg-indigo-200 hover:bg-indigo-300 text-indigo-900",children:"Next"})]})]})]})},B=function(e){var t=g(),r=t.token,a=t.user,s=g(),c=Object(v.g)(),o=Object(n.useState)([]),d=Object(u.a)(o,2),f=d[0],b=d[1],j=Object(n.useState)(0),h=Object(u.a)(j,2),p=h[0],O=h[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,0,e.next=4,x.getPosts(r,0);case 4:t=e.sent,b(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var w=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(p+1),e.next=4,x.getPosts(r,p);case 4:t=e.sent,b(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(p>=0)){e.next=7;break}return O(p-1),e.next=5,x.getPosts(r,p);case 5:t=e.sent,b(t.data);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),N=Object(n.useState)(""),C=Object(u.a)(N,2),S=C[0],P=C[1],D=Object(n.useState)(""),T=Object(u.a)(D,2),z=T[0],B=T[1],A=Object(n.useState)(""),_=Object(u.a)(A,2),L=_[0],G=_[1],H=Object(n.useState)(!0),I=Object(u.a)(H,2),J=(I[0],I[1],Object(n.useState)("")),U=Object(u.a)(J,2),M=U[0],q=U[1],R=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(S.length>=8&&S.length<=32&&z.length>=8||L.length>1)){e.next=10;break}return console.log("entro y se publico"),e.next=4,x.createPost(r,S,z,L);case 4:e.sent,q("Published!!"),document.getElementById("formData").reset(),window.location.reload("true"),e.next=13;break;case 10:console.log("no entro,F"),console.log("Todo gucci"),q("Fill the blank spaces(must be 8 characters at least)");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){x.getPosts(r,p)}),[]);var W=Object(n.useState)([]),K=Object(u.a)(W,2),Q=K[0],V=K[1];return Object(n.useEffect)((function(){x.getFavorites(r).then((function(e){V(e.favorites)})).catch((function(e){console.log(e)}))}),[]),Object(m.jsxs)("div",{className:"w-full bg-indigo-100 h-screen flex flex-row flex-wrap justify-center ",children:[Object(m.jsxs)("div",{className:"w-full md:w-1/4 lg:w-1/5 h-20 md:h-screen overflow-y-hidden bg-indigo-900 shadow-lg",children:[Object(m.jsxs)("div",{className:"invisible md:visible p-0 md:p-5 bg-indigo-900 sticky top-0",children:[Object(m.jsx)("img",{className:"w-0 h-0 md:h-full md:w-full  border-none md:border  rounded-full border-indigo-900 shadow-lg round",src:F,alt:"user profile"}),Object(m.jsx)("div",{className:"pt-0 md:pt-2 border-t-none md:border-t mt-0 md:mt-5 text-center text-xs md:text-xl md:text-gray-100 font-bold",children:a.username})]}),Object(m.jsxs)("div",{className:"w-full h-4/5 antialiased flex flex-row md:flex-col hover:cursor-pointer ",children:[Object(m.jsxs)("button",{onClick:function(e){e.preventDefault(),c("/favorites_admin")},className:"hover:bg-yellow-500 hover:text-gray-100 bg-indigo-900 border-gray-100 border-t-2 p-3 w-full text-sm md:text-xl text-left text-gray-300 font-semibold",children:[Object(m.jsx)("i",{className:"fa fa-star text-gray-100 text-2xl pr-1 pt-1 float-right"}),"Favorites"]}),Object(m.jsxs)("button",{onClick:function(e){e.preventDefault(),c("/posts")},className:"hover:bg-purple-500 hover:text-gray-100 bg-indigo-900 border-gray-100 border-t-2 p-3 w-full text-sm md:text-xl text-left text-gray-300 font-semibold",children:[Object(m.jsx)("i",{className:"fas fa-camera-retro text-gray-100 text-2xl pr-1 pt-1 float-right"}),"My Posts"]}),Object(m.jsxs)("button",{onClick:function(e){e.preventDefault(),s.logout(),c("/login")},className:"hover:bg-red-500 hover:text-gray-100 bg-indigo-900 border-gray-100 border-t-2 border-b-none md:border-b-2 p-3 w-full text-sm md:text-xl text-left text-gray-300 font-semibold",children:[Object(m.jsx)("i",{className:"fa fa-arrow-left text-gray-100 text-2xl pr-1 pt-1 float-right"}),"Log out"]}),Object(m.jsx)("img",{src:k,className:"invisible md:visible pt-2 w-0 md:w-3/5 mx-auto"})]})]}),Object(m.jsxs)("div",{className:"w-full md:w-3/4 lg:w-4/5 p-5 md:px-12 lg:24 h-full overflow-x-scroll antialiased",children:[Object(m.jsxs)("form",{id:"formData",onSubmit:function(e){e.preventDefault()},className:"editor mx-auto w-11/12 flex flex-col text-gray-800 rounded-lg border-gray-300 p-4 shadow-lg max-w-2xl",children:[Object(m.jsx)("input",{onChange:function(e){e.preventDefault(),G(e.target.value)},className:"title bg-gray-100 border border-gray-300 p-2 mb-4 outline-none",spellCheck:"false",placeholder:"Image(URL)",type:"url"}),Object(m.jsx)("input",{onChange:function(e){e.preventDefault(),P(e.target.value)},className:"title bg-gray-100 border border-gray-300 p-2 mb-4 outline-none",spellCheck:"false",placeholder:"Title (32 characters maximum)",type:"text"}),Object(m.jsx)("textarea",{onChange:function(e){e.preventDefault(),B(e.target.value)},className:"description bg-gray-100 sec p-3 h-32 border border-gray-300 outline-none",spellCheck:"false",placeholder:"Describe everything about this post here"}),Object(m.jsxs)("div",{className:"buttons flex mt-4",children:[Object(m.jsx)("div",{onClick:function(e){e.preventDefault(),document.getElementById("formData").reset()},className:"btn border hover:bg-red-500 hover:text-gray-100 border-gray-300 p-1 px-4  border-b font-semibold cursor-pointer rounded text-gray-500 ml-auto",children:"Cancel"}),Object(m.jsx)("div",{onClick:R,className:"btn border border-indigo-500 p-1 px-4 font-semibold cursor-pointer border-b text-gray-200 rounded ml-2 hover:bg-indigo-300 bg-indigo-500",children:"Add"})]}),Object(m.jsx)("p",{className:"text-red-500 text-xs italic",children:M})]}),f.map((function(e){return Object(m.jsx)(E,{id:e._id,title:e.title,image:e.image,user:e.user.username,description:e.description,likes:e.likes.length,like:e.likes,commentsCont:e.comments.length,favorite:Q.includes(e._id),active:e.active,comments:e.comments,likeOn:"true"})})),Object(m.jsxs)("div",{className:"flex justify-center items-center w-full space-x-3",children:[Object(m.jsx)("button",{onClick:y,className:"w-2/5 sm:w-auto px-9 py-4 mt-8 text-base font-semibold focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-gray-900 focus:outline-none transition-colors duration-200 rounded-xl block  border-b border-indigo-300 bg-indigo-200 hover:bg-indigo-300 text-indigo-900",children:"Back"}),Object(m.jsx)("button",{onClick:w,className:"w-2/5 sm:w-auto px-9 py-4 mt-8 text-base font-semibold focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-gray-900 focus:outline-none transition-colors duration-200 rounded-xl block  border-b border-indigo-300 bg-indigo-200 hover:bg-indigo-300 text-indigo-900",children:"Next"})]})]})]})},A=function(){var e=Object(v.g)(),t=function(t){e("/login")};return Object(m.jsx)("div",{class:"h-screen w-screen  bg-gray-700 flex items-center",children:Object(m.jsxs)("div",{class:"container flex flex-col md:flex-row items-center justify-center px-5 text-gray-100",children:[Object(m.jsxs)("div",{class:"max-w-md",children:[Object(m.jsx)("div",{class:"text-5xl font-dark font-bold",children:"404"}),Object(m.jsx)("p",{class:"text-2xl md:text-3xl font-light leading-normal",children:"Guauf Guauf. "}),Object(m.jsx)("p",{class:"mb-8",children:"uwu"}),Object(m.jsx)("button",{onClick:function(e){return t()},class:"px-4 inline py-2 text-sm font-medium leading-5 shadow text-white transition-colors duration-150 border border-transparent rounded-lg focus:outline-none focus:shadow-outline-blue bg-blue-600 active:bg-blue-600 hover:bg-blue-700",children:"Back to Login"})]}),Object(m.jsx)("div",{class:"max-w-lg",children:Object(m.jsx)("img",{src:k,class:"w-full h-auto"})})]})})},_=function(e){var t=g(),r=t.token,a=t.user,s=g(),c=Object(v.g)(),o=Object(n.useState)([]),d=Object(u.a)(o,2),f=d[0],b=d[1];return Object(n.useEffect)((function(){x.getFavorites(r).then((function(e){var t=e.favorites.map(function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getOnePost(r,t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Promise.all(t).then((function(e){var t=e.filter((function(e){return"{}"!==JSON.stringify(e)}));b(t)}))})).catch((function(e){console.log(e)}))}),[r]),Object(m.jsxs)("div",{className:"w-auto bg-indigo-100 h-screen flex flex-row flex-wrap justify-center ",children:[Object(m.jsxs)("div",{className:"w-full md:w-1/4 lg:w-1/5 h-20 md:h-screen overflow-y-hidden bg-indigo-900 shadow-lg",children:[Object(m.jsxs)("div",{className:"invisible md:visible p-0 md:p-5 bg-indigo-900 sticky top-0",children:[Object(m.jsx)("img",{className:"w-0 h-0 md:h-full md:w-full  border-none md:border  rounded-full border-indigo-900 shadow-lg round",src:F,alt:"user profile"}),Object(m.jsx)("div",{className:"pt-0 md:pt-2 border-t-none md:border-t mt-0 md:mt-5 text-center text-xs md:text-xl md:text-gray-100 font-bold",children:a.username})]}),Object(m.jsxs)("div",{className:"w-full h-4/5 antialiased flex flex-row md:flex-col hover:cursor-pointer ",children:[Object(m.jsxs)("button",{onClick:function(e){e.preventDefault(),c("/admin")},className:"hover:bg-purple-500 hover:text-gray-100 bg-indigo-900 border-gray-100 border-t-2 p-3 w-full  text-sm md:text-xl text-left text-gray-300 font-semibold",children:[Object(m.jsx)("i",{className:"fas fa-igloo text-gray-100 text-2xl pr-1 pt-1 float-right"}),"Home"]}),Object(m.jsxs)("button",{onClick:function(e){e.preventDefault(),c("/posts")},className:"hover:bg-purple-500 hover:text-gray-100 bg-indigo-900 border-gray-100 border-t-2 p-3 w-full  text-sm md:text-xl text-left text-gray-300 font-semibold",children:[Object(m.jsx)("i",{className:"fas fa-camera-retro text-gray-100 text-2xl pr-1 pt-1 float-right"}),"My Posts"]}),Object(m.jsxs)("button",{onClick:function(e){e.preventDefault(),s.logout(),c("/login")},className:"hover:bg-red-500 hover:text-gray-100 bg-indigo-900 border-gray-100 border-t-2 border-b-none md:border-b-2 p-3 w-full  text-sm md:text-xl text-left text-gray-300 font-semibold",children:[Object(m.jsx)("i",{className:"fa fa-arrow-left text-gray-100 text-2xl pr-1 pt-1 float-right"}),"Log out"]}),Object(m.jsx)("img",{src:k,className:"invisible md:visible pt-2 w-0 md:w-3/5 mx-auto"})]})]}),Object(m.jsx)("div",{className:"w-full md:w-3/4 lg:w-4/5 p-5 md:px-12 lg:24 h-full overflow-x-scroll antialiased",children:f.map((function(e){return Object(m.jsx)(E,{id:e._id,title:e.title,image:e.image,user:e.user.username,description:e.description,likes:e.likes.length,like:e.likes,commentsCont:e.comments.length,favorite:f.includes(e._id),active:e.active,comments:e.comments})}))})]})},L=function(e){var t=g(),r=t.token,a=t.user,s=g(),c=Object(v.g)(),o=Object(n.useState)([]),d=Object(u.a)(o,2),f=d[0],b=d[1];return Object(n.useEffect)((function(){x.getFavorites(r).then((function(e){var t=e.favorites.map(function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getOnePost(r,t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Promise.all(t).then((function(e){var t=e.filter((function(e){return"{}"!==JSON.stringify(e)}));b(t)}))})).catch((function(e){console.log(e)}))}),[r]),Object(m.jsxs)("div",{className:"w-auto bg-indigo-100 h-screen flex flex-row flex-wrap justify-center ",children:[Object(m.jsxs)("div",{className:"w-full md:w-1/4 lg:w-1/5 h-20 md:h-screen overflow-y-hidden bg-indigo-900 shadow-lg",children:[Object(m.jsxs)("div",{className:"invisible md:visible p-0 md:p-5 bg-indigo-900 sticky top-0",children:[Object(m.jsx)("img",{className:"w-0 h-0 md:h-full md:w-full  border-none md:border  rounded-full border-indigo-900 shadow-lg round",src:F,alt:"user profile"}),Object(m.jsx)("div",{className:"pt-0 md:pt-2 border-t-none md:border-t mt-0 md:mt-5 text-center text-xs md:text-xl md:text-gray-100 font-bold",children:a.username})]}),Object(m.jsxs)("div",{className:"w-full h-4/5 antialiased flex flex-row md:flex-col hover:cursor-pointer ",children:[Object(m.jsxs)("button",{onClick:function(e){e.preventDefault(),c("/user")},className:"hover:bg-purple-500 hover:text-gray-100 bg-indigo-900 border-gray-100 border-t-2 p-3 w-full md:text-xl text-lg text-left text-gray-300 font-semibold",children:[Object(m.jsx)("i",{className:"fas fa-camera-retro text-gray-100 text-2xl pr-1 pt-1 float-right"}),"Home"]}),Object(m.jsxs)("button",{onClick:function(e){e.preventDefault(),s.logout(),c("/login")},className:"hover:bg-red-500 hover:text-gray-100 bg-indigo-900 border-gray-100 border-t-2 border-b-none md:border-b-2 p-3 w-full text-lg md:text-xl text-left text-gray-300 font-semibold",children:[Object(m.jsx)("i",{className:"fa fa-arrow-left text-gray-100 text-2xl pr-1 pt-1 float-right"}),"Log out"]}),Object(m.jsx)("img",{src:k,className:"invisible md:visible pt-2 w-0 md:w-3/5 mx-auto"})]})]}),Object(m.jsx)("div",{className:"w-full md:w-3/4 lg:w-4/5 p-5 md:px-12 lg:24 h-full overflow-x-scroll antialiased",children:f.map((function(e){return Object(m.jsx)(E,{id:e._id,title:e.title,image:e.image,user:e.user.username,description:e.description,likes:e.likes.length,like:e.likes,commentsCont:e.comments.length,favorite:f.includes(e._id),active:e.active,comments:e.comments})}))})]})},G=function(e){var t=g(),r=t.token,a=t.user,s=Object(n.useState)(!1),c=Object(u.a)(s,2),o=c[0],i=c[1],l="fas fa-heart hover:text-red-600",d=Object(n.useState)(0),f=Object(u.a)(d,2),b=f[0],j=f[1],h=Object(n.useState)(l),p=Object(u.a)(h,2),v=p[0],O=p[1];Object(n.useEffect)((function(){e.like.map((function(e){e.username===a.username&&(O("fas fa-heart text-red-600"),i(!0))}))}),[]);var y=e.favorite?"fas fa-star hover:text-yellow-500":"fas fa-star text-gray-400 hover:text-yellow-500",k=Object(n.useState)(!1),N=Object(u.a)(k,2),C=N[0],S=N[1],P=Object(n.useState)(y),D=Object(u.a)(P,2),E=D[0],F=D[1];Object(n.useEffect)((function(){x.getFavorites(r).then((function(t){t.favorites.includes(e.id)&&(F("fas fa-star text-yellow-500"),S(!0))}))}),[]);var z="fas fa-eye text-green-400 hover:text-red-400",B=Object(n.useState)(!0),A=Object(u.a)(B,2),_=A[0],L=A[1],G=Object(n.useState)(z),H=Object(u.a)(G,2),I=H[0],J=H[1];Object(n.useEffect)((function(){e.active?(J("fas fa-eye text-green-400 hover:text-red-400"),L(!0)):(J("fas fa-eye-slash text-red-400"),L(!1))}),[]);var U="fas fa-edit hover:text-gray-50",M="py-2 px-4",q="px-4 space-y-2",R=Object(n.useState)(!1),W=Object(u.a)(R,2),K=W[0],Q=W[1],V=Object(n.useState)(U),X=Object(u.a)(V,2),Y=X[0],Z=X[1],$=Object(n.useState)(M),ee=Object(u.a)($,2),te=ee[0],re=ee[1],ne=Object(n.useState)(q),ae=Object(u.a)(ne,2),se=ae[0],ce=ae[1],oe=Object(n.useState)(""),ie=Object(u.a)(oe,2),le=ie[0],ue=ie[1],de=Object(n.useState)(""),fe=Object(u.a)(de,2),be=fe[0],xe=fe[1],me=Object(n.useState)(!0),je=Object(u.a)(me,2),he=je[0],pe=je[1],ge=Object(n.useState)(""),ve=Object(u.a)(ge,2),Oe=ve[0],we=ve[1];return Object(m.jsx)("div",{className:"flex justify-between m-8",children:Object(m.jsxs)("div",{className:" h-4/5 w-4/5 flex flex-col mx-auto bg-gray-800 rounded-lg shadow-2xl",children:[Object(m.jsxs)("div",{className:"flex flex-row items-end h-full w-full px-4 my-3 content-center",children:[Object(m.jsx)("div",{className:"flex items-center flex-shrink-0 px-2",children:Object(m.jsx)("div",{className:"flex items-center space-x-1 text-gray-400",children:Object(m.jsx)("button",{onClick:function(t){t.preventDefault(),K?(M="py-2 px-4",q="px-4 space-y-2",U="fas fa-edit hover:text-gray-50",""===le&&""===be?x.updatePost(r,e.id,e.title,e.description,e.image):""===le?x.updatePost(r,e.id,e.title,be,e.image):""===be&&x.updatePost(r,e.id,le,e.description,e.image),re(M),ce(q),Z(U),Q(!1),pe(!0)):(q="px-4 space-y-2 border-2 border-blue-600 rounded-lg",U="fas fa-check-square hover:text-gray-50",re(M="py-2 px-4 border-2 border-blue-400 rounded-lg"),ce(q),Z(U),Q(!0),pe(!1))},className:"ch-5 w-5",children:Object(m.jsx)("i",{className:Y})})})}),Object(m.jsx)("div",{className:"flex items-center flex-shrink-0 px-2",children:Object(m.jsx)("div",{className:"flex items-center space-x-1 text-gray-400",children:Object(m.jsx)("button",{onClick:function(t){t.preventDefault(),_?(x.togglePost(r,e.id).then((function(t){e.toggle(t.data.post)})).catch((function(e){console.log(e)})),J(z="fas fa-eye-slash text-red-400"),L(!1)):(x.togglePost(r,e.id).then((function(t){e.toggle(t.data.post)})).catch((function(e){console.log(e)})),J(z="fas fa-eye text-green-400 hover:text-red-400"),L(!0))},className:"group ch-5 w-5",children:Object(m.jsx)("i",{className:I})})})})]}),Object(m.jsx)("img",{className:"object-fill max-h-96 max-w-7xl rounded-lg rounded-b-none",src:e.image,alt:"thumbnail",loading:"lazy"}),Object(m.jsx)("div",{className:"flex justify-between -mt-4 px-4",children:Object(m.jsx)("span",{className:"inline-block ring-4 bg-red-500 ring-gray-800 rounded-full text-sm font-medium tracking-wide text-gray-100 px-3 pt-0.5",children:"Tilinstagram"})}),Object(m.jsx)("div",{className:te,children:Object(m.jsx)("textarea",{onChange:function(e){e.preventDefault(),ue(e.target.value),console.log(le)},className:"text-xl font-medium resize-none h-6 w-11/12 overflow-hidden leading-6 tracking-wide text-gray-100 bg-gray-800",disabled:he,children:e.title})}),Object(m.jsx)("div",{className:se,children:Object(m.jsx)("textarea",{onChange:function(e){e.preventDefault(),xe(e.target.value),console.log(be)},className:"w-11/12 leading-5 resize-none overflow-y-auto text-gray-100 font-normal tracking-wide bg-gray-800",disabled:he,children:e.description})}),Object(m.jsx)("div",{className:"flex flex-row items-end h-full w-full px-4 mt-4",children:Object(m.jsxs)("div",{className:"flex border-t border-gray-700 w-full py-4",children:[Object(m.jsxs)("div",{className:"flex items-center space-x-3 border-r border-gray-700 w-full",children:[Object(m.jsx)("img",{class:"object-cover w-8 h-8 border-2 border-white rounded-full",src:w,alt:"profile users",loading:"lazy"}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)("p",{className:"text-sm font-semibold tracking-wide text-gray-200",children:e.user})})]}),Object(m.jsx)("div",{className:"flex items-center flex-shrink-0 px-2",children:Object(m.jsx)("div",{className:"flex items-center space-x-1 text-gray-400",children:Object(m.jsx)("button",{onClick:function(t){t.preventDefault(),C?(x.favoritePost(r,e.id).then((function(t){e.favs(t.data.post)})).catch((function(e){console.log(e)})),F(y=" fas fa-star  text-gray-400 hover:text-yellow-500"),S(!1)):(x.favoritePost(r,e.id).then((function(t){e.favs(t.data.post)})).catch((function(e){console.log(e)})),F(y="fas fa-star text-yellow-500"),S(!0))},className:"ch-5 w-5",children:Object(m.jsx)("i",{class:E})})})}),Object(m.jsx)("div",{className:"flex items-center flex-shrink-0 px-2 text-gray-400",children:Object(m.jsxs)("div",{className:"flex items-center space-x-1",children:[Object(m.jsx)("button",{onClick:function(t){t.preventDefault(),o?(x.likePost(r,e.id).then((function(t){e.likes(t.data.post)})).catch((function(e){console.log(e)})),O(l=" fas fa-heart  text-gray-400 hover:text-red-600"),j(b-1),i(!1)):(x.likePost(r,e.id).then((function(t){e.likes(t.data.post)})).catch((function(e){console.log(e)})),console.log("con hover"),O(l="fas fa-heart text-red-600"),j(b+1),i(!0))},className:"group ch-5 w-5",children:Object(m.jsx)("i",{className:v})}),Object(m.jsx)("p",{className:"font-medium",children:e.likes+b})]})}),Object(m.jsx)("div",{className:"flex items-center flex-shrink-0 px-2",children:Object(m.jsxs)("div",{className:"flex items-center space-x-1 text-gray-400",children:[Object(m.jsx)("button",{className:"ch-5 w-5",children:Object(m.jsx)("i",{className:"fas fa-comment hover:text-blue-300 "})}),Object(m.jsx)("p",{className:"font-medium",children:e.commentsCont})]})})]})}),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{class:"rounded-b-lg",children:[Object(m.jsxs)("div",{className:"flex flex-row pb-4",action:"/","accept-charset":"UTF-8",method:"post",children:[Object(m.jsx)("input",{type:"hidden"}),Object(m.jsx)("textarea",{onChange:function(e){e.preventDefault(),we(e.target.value)},value:Oe,className:"pl-4  w-11/12 shadow-inner bg-gray-100 align-middle border-0 rounded text-lg focus:shadow-outline mx-3 my-1",placeholder:"Write a comment.",cols:"2",rows:"1",id:"comment_content",spellcheck:"false"}),Object(m.jsx)("button",{onClick:function(t){t.preventDefault(),x.addComment(r,e.id,Oe),we("")},className:"font-bold content-center py-1 pr-4 w-auto hover:text-blue-500 text-white shadow-md rounded-full ",children:Object(m.jsx)("i",{class:"fas fa-paper-plane"})})]}),Object(m.jsx)("form",{className:"h-auto max-h-24 overflow-y-auto",children:e.comments.map((function(e){return Object(m.jsx)(T,{comment:e})}))})]})})]})})},H=function(){var e=g(),t=e.token,r=e.user,a=g(),s=Object(v.g)(),c=Object(n.useState)([]),o=Object(u.a)(c,2),d=o[0],f=o[1],b=Object(n.useState)(0),j=Object(u.a)(b,2),h=j[0],p=j[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,0,e.next=4,x.Ownedpost(t,0);case 4:r=e.sent,f(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var O=function(){var e=Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(h+1),e.next=4,x.Ownedpost(t,h);case 4:r=e.sent,f(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(h>=0)){e.next=7;break}return p(h-1),e.next=5,x.Ownedpost(t,h);case 5:r=e.sent,f(r.data);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"w-full bg-indigo-100 h-screen flex flex-row flex-wrap justify-center ",children:[Object(m.jsxs)("div",{className:"w-full md:w-1/4 lg:w-1/5 h-20 md:h-screen overflow-y-hidden bg-indigo-900 shadow-lg",children:[Object(m.jsxs)("div",{className:"invisible md:visible p-0 md:p-5 bg-indigo-900 sticky top-0",children:[Object(m.jsx)("img",{className:"w-0 h-0 md:h-full md:w-full  border-none md:border  rounded-full border-indigo-900 shadow-lg round",src:F,alt:"user profile"}),Object(m.jsx)("div",{className:"pt-0 md:pt-2 border-t-none md:border-t mt-0 md:mt-5 text-center text-xs md:text-xl md:text-gray-100 font-bold",children:r.username})]}),Object(m.jsxs)("div",{className:"w-full h-4/5 antialiased flex flex-row md:flex-col hover:cursor-pointer ",children:[Object(m.jsxs)("button",{onClick:function(e){e.preventDefault(),s("/admin")},className:"hover:bg-blue-500 hover:text-gray-100 bg-indigo-900 border-gray-100 border-t-2 p-3 w-full text-sm md:text-xl text-left text-gray-300 font-semibold",children:[Object(m.jsx)("i",{className:"fa fa-igloo text-gray-100 text-2xl pr-1 pt-1 float-right"}),"Home"]}),Object(m.jsxs)("button",{onClick:function(e){e.preventDefault(),s("/favorites_admin")},className:"hover:bg-yellow-500 hover:text-gray-100 bg-indigo-900 border-gray-100 border-t-2 p-3 w-full text-sm md:text-xl text-left text-gray-300 font-semibold",children:[Object(m.jsx)("i",{className:"fa fa-star text-gray-100 text-2xl pr-1 pt-1 float-right"}),"Favorites"]}),Object(m.jsxs)("button",{onClick:function(e){e.preventDefault(),a.logout(),s("/login")},className:"hover:bg-red-500 hover:text-gray-100 bg-indigo-900 border-gray-100 border-t-2 border-b-none md:border-b-2 p-3 w-full text-sm md:text-xl text-left text-gray-300 font-semibold",children:[Object(m.jsx)("i",{className:"fa fa-arrow-left text-gray-100 text-2xl pr-1 pt-1 float-right"}),"Log out"]}),Object(m.jsx)("img",{src:k,className:"invisible md:visible pt-2 w-0 md:w-3/5 mx-auto"})]})]}),Object(m.jsxs)("div",{className:"w-full md:w-3/4 lg:w-4/5 p-5 md:px-12 lg:24 h-full overflow-x-scroll antialiased",children:[d.map((function(e){return console.log(e),Object(m.jsx)(G,{id:e._id,title:e.title,image:e.image,user:e.user.username,description:e.description,likes:e.likes.length,like:e.likes,commentsCont:e.comments.length,comments:e.comments,active:e.active})})),Object(m.jsxs)("div",{className:"flex justify-center items-center w-full space-x-3",children:[Object(m.jsx)("button",{onClick:w,className:"w-2/5 sm:w-auto px-9 py-4 mt-8 text-base font-semibold focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-gray-900 focus:outline-none transition-colors duration-200 rounded-xl block  border-b border-indigo-300 bg-indigo-200 hover:bg-indigo-300 text-indigo-900",children:"Back"}),Object(m.jsx)("button",{onClick:O,className:"w-2/5 sm:w-auto px-9 py-4 mt-8 text-base font-semibold focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-gray-900 focus:outline-none transition-colors duration-200 rounded-xl block  border-b border-indigo-300 bg-indigo-200 hover:bg-indigo-300 text-indigo-900",children:"Next"})]})]})]})};var I=function(){return Object(m.jsx)(C.a,{children:Object(m.jsxs)(v.d,{children:[Object(m.jsx)(v.b,{path:"/",element:Object(m.jsx)(v.a,{replace:!0,to:"/login"})}),Object(m.jsx)(v.b,{path:"/login",element:Object(m.jsx)(N,{})}),Object(m.jsx)(v.b,{path:"/redirect",element:Object(m.jsx)(D,{})}),Object(m.jsx)(v.b,{path:"/user",element:Object(m.jsx)(S,{role:"user",children:Object(m.jsx)(z,{})})}),Object(m.jsx)(v.b,{path:"/favorites",element:Object(m.jsx)(S,{role:"user",children:Object(m.jsx)(L,{})})}),Object(m.jsx)(v.b,{path:"/admin",element:Object(m.jsx)(S,{role:"admin",children:Object(m.jsx)(B,{})})}),Object(m.jsx)(v.b,{path:"/favorites_admin",element:Object(m.jsx)(S,{role:"admin",children:Object(m.jsx)(_,{})})}),Object(m.jsx)(v.b,{path:"/posts",element:Object(m.jsx)(S,{role:"admin",children:Object(m.jsx)(H,{})})}),Object(m.jsx)(v.b,{path:"/*",element:Object(m.jsx)(A,{})})]})})};var J=function(){return Object(m.jsx)(I,{})},U=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,20)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))};c.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(p,{children:Object(m.jsx)(J,{})})}),document.getElementById("root")),U()}},[[19,1,2]]]);
//# sourceMappingURL=main.ca2bfd74.chunk.js.map